<html lang="en">
  <head>
    <title>Front End Testing</title>
    <script>
      const getForm = () => document.querySelector('#user-form');
      const getUsers = () => document.querySelector('.users');

      const fetchCongratulationMsg = () =>
        fetch('/congratulate').then((res) => res.text());

      const setupUserForm = () => {
        const form = getForm();
        const users = getUsers();

        form.onsubmit = () => {
          fetchCongratulationMsg().then((msgHtml) => users.append(msgHtml));
        };
      };

      window.onload = setupUserForm;
    </script>
  </head>
  <body>
    <div id="page-wrapper">
      <form id="user-form">
        <label for="username">Name:</label>
        <input type="text" id="username" placeholder="Enter your username" />
        <input type="submit" value="Submit" id="submit-btn" />
      </form>

      <div class="users"></div>
    </div>
  </body>
</html>
